!function(e){e.fn.linedtextarea=function(i){var n=e.extend({},e.fn.linedtextarea.defaults,i),t=function(e,i,t){for(;e.height()-i<=0;)t==n.selectedLine?e.append("<div class='lineno lineselect'>"+t+"</div>"):e.append("<div class='lineno'>"+t+"</div>"),t++;return t};return this.each((function(){var i=1,n=e(this);n.attr("wrap","off"),n.css({resize:"none"});var s=n.outerWidth();n.wrap("<div class='linedtextarea'></div>");var a=n.parent().wrap("<div class='linedwrap' style='width:"+s+"px'></div>").parent();a.prepend("<div class='lines' style='width:35px'></div>");var l=a.find(".lines");l.height(n.height()+1e3),l.append("<div class='codelines'></div>");var d=l.find(".codelines");i=t(d,l.height(),1),n.scroll((function(n){var s=e(this)[0],a=s.scrollTop,l=s.clientHeight;d.css({"margin-top":-1*a+"px"}),i=t(d,a+l,i)})),n.resize((function(i){var n=e(this)[0];l.height(n.clientHeight+6)}))}))},e.fn.linedtextarea.defaults={selectedLine:-1,selectedClass:"lineselect"}}(jQuery);